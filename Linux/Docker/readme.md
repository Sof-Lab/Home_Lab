# Docker

## Описание задачи

Создайте свой кастомный образ nginx на базе alpine. После запуска nginx должен отдавать кастомную страницу (достаточно изменить дефолтную страницу nginx).
Собранный образ необходимо запушить в docker hub и дать ссылку на ваш репозиторий.
Определите разницу между контейнером и образом.
Вывод опишите в домашнем задании.
Ответьте на вопрос: Можно ли в контейнере собрать ядро?


## Выполнение

### 1. Создание образа.

Создан файл Dockerfile для образа nginx на основе alpine.
В дополнение созданы конфиг файлы - nginx.conf и index.html, которые используются в Dockerfile.
Следующей командой создан образ: `docker build -t sofmini/my-nginx-alpine:first:first .`.
Запуск контейнера с использованием нового образа: `docker run -d -p 8080:80 --name test-my-image sofmini/my-nginx-alpine:first`.
Вывод команды `docker ps`:
```
CONTAINER ID   IMAGE                           COMMAND                  CREATED         STATUS         PORTS                  NAMES
75b8a368185d   sofmini/my-nginx-alpine:first   "nginx -g 'daemon of…"   4 seconds ago   Up 3 seconds   0.0.0.0:8080->80/tcp   test-my-image
```
Для проверки работы приложения можно перейти через браузер по localhost:8080.
Результат:

![Image alt](https://github.com/Sof-Lab/Home_Lab/blob/main/Linux/Docker/Test.png)

Командой ` docker push sofmini/my-nginx-alpine:first` созданный образ отправляется на [Docker Hub](https://hub.docker.com/r/sofmini/my-nginx-alpine).

### 2. Разница между контейнером и образом.

Образ - конфигурационный файл или набор файлов, который содержит полный набор инструкций для запуска контейнера, включая конфигурацию, преднастройку и необходимые зависимости.
Контейнер - это запущенное приложение на основе образа.

Таким образом, любые важные изменения требуется вносить в сам образ для исключения их утраты, а также для переиспользования и миграции между инфраструктурами.
На сонове одного образа можно запустить одновременно несколько контейнеров.

### 3. Можно ли в контейнере собрать ядро?

В запущенном контейнере можно собрать ядро.
Но при перезапуске контейнера внесенные изменения будут утрачены, а значит, запуститься с нового ядра не получится.